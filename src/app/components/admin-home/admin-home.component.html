<app-navbar *ngIf="idUser!=null && is_admin=='ADMIN'"></app-navbar>

<div *ngIf="idUser!=null && is_admin=='ADMIN'" class="container py-4">

    

    <div class="container">
        <h1>Liste Problemes</h1>
            <input class="form-control" (keyup)="filter($event.target)" placeholder="Filter">
        
    </div>
    <div *ngIf="!hide"  class="detail" #llll>
        <button style="background-color: red;" (click)="hideDetail()">X</button>
        <br><br>
        <p>
            {{description}}
        </p>
    </div>
    
    <div class="container col-md-12  table-responsive body" [style]="style">
        
        <br>
        <mat-table  class="tt" #table matSort [dataSource]="dataSource">

        <!-- Position Column -->
        <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef mat-sort-header> No </mat-header-cell>
            <mat-cell *matCellDef="let element" [ngClass]="{'encours': element.statut == 'en cours' ,'traite': element.statut == 'traite'}"> {{element.id}} </mat-cell>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="user">
            <mat-header-cell *matHeaderCellDef mat-sort-header> User </mat-header-cell>
            <mat-cell *matCellDef="let element" [ngClass]="{'encours': element.statut == 'en cours' ,'traite': element.statut == 'traite'}" > {{element.user}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="ville">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Ville </mat-header-cell>
            <mat-cell *matCellDef="let element" [ngClass]="{'encours': element.statut == 'en cours' ,'traite': element.statut == 'traite'}"> {{element.ville}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="vehicule">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Vehicule </mat-header-cell>
            <mat-cell *matCellDef="let element" [ngClass]="{'encours': element.statut == 'en cours' ,'traite': element.statut == 'traite'}"> {{element.vehicule}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="statut">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Statut </mat-header-cell>
            <mat-cell *matCellDef="let element" [ngClass]="{'encours': element.statut == 'en cours' ,'traite': element.statut == 'traite'}"> {{element.statut}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="dateCreation">
            <mat-header-cell *matHeaderCellDef mat-sort-header> dateCreation </mat-header-cell>
            <mat-cell *matCellDef="let element" [ngClass]="{'encours': element.statut == 'en cours' ,'traite': element.statut == 'traite'}"> {{element.dateCreation | date:'yyyy-MM-dd'}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="dateModification">
            <mat-header-cell *matHeaderCellDef mat-sort-header> dateModification </mat-header-cell>
            <mat-cell *matCellDef="let element" [ngClass]="{'encours': element.statut == 'en cours' ,'traite': element.statut == 'traite'}"> {{element.dateModification | date:'yyyy-MM-dd'}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="description">
            <mat-header-cell *matHeaderCellDef> Description </mat-header-cell>
            <mat-cell *matCellDef="let element">  <button (click)="detail(element.description)"  class="btn btn-secondary" >detail</button></mat-cell>
        </ng-container>
        <!--<ng-container matColumnDef="valider">
            <mat-header-cell *matHeaderCellDef> Valider </mat-header-cell>
            <mat-cell *matCellDef="let element"> <button *ngIf="element.statut==1" (click)="valider(element.id)" class="btn btn-success" >Valider</button> <button (click)="invalider(element.id)" *ngIf="element.statut==2" class="btn btn-outline-danger" >Invalider</button></mat-cell>
        </ng-container>-->
       

        

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
    <mat-paginator #paginator
    [pageSize]="15"
    [showFirstLastButtons]="true">
    </mat-paginator>

    
    
    
    
</div>

   

    
</div>